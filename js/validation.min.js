function mod_validator(l,j,g,e){var f=l;var i=j;var k=e;var d=mod_helper();var h=mod_card_tools(f,i,g,k);function c(n,m,p){var o=n[m];if(o===undefined){n[m]=p}else{n[m]+="\n"+p}}function a(q,o,p,m,n){if(n===undefined){n=LOG_LEVEL.message}k.log(o+p,n);if(m!==undefined){c(q,m,p)}else{c(q,"general",p)}}function b(m,t){if(t===undefined){t={}}if(d.is_empty(m)){return t}var n=h.get_card_type(m);if(n===null){a(t,"","invalid card",undefined,LOG_LEVEL.error);return t}var x=d.get_property(m,"design_elements");if(Array.isArray(x)){var v=h.get_element_index(m);for(var q in v){var r=v[q];var s=h.get_design_element_properties(r);if(s.deleted===true){continue}var w=d.get_property(s,"value");var u=h.get_design_element_label(r);var y=h.get_multilanguage_string(ML_KEYS.validation_error_label_prefix,"in");var o=h.get_multilanguage_string(ML_KEYS.validation_error_label_suffix,":");var p=y.trim()+" '"+u+"'"+o.trim()+" ";switch(d.get_property(s,"element_type")){case"Text":if(d.get_property(s,"use_as_address_setting")===true&&!(d.contains_only_ascii_words(String(w)))){error_message=h.get_multilanguage_string(ML_KEYS.address_only_ascii_error,"only basic characters, numbers and underscores allowed");a(t,p,error_message,q,LOG_LEVEL.message)}break;case"Password":if(!(d.is_valid_password(String(w)))){error_message=h.get_multilanguage_string(ML_KEYS.password_only_ascii_error,"sorry, only English characters, numbers and symbols are allowed for passwords");a(t,p,error_message,q,LOG_LEVEL.message)}break}if(d.get_property(s,"requirement_setting")===1){if(w===null||w===undefined||w===""){error_message=h.get_multilanguage_string(ML_KEYS.field_mandatory_error,"this field is mandatory");a(t,p,error_message,q,LOG_LEVEL.message)}}if(d.get_property(s,"value_type")==="number"){if(w!==null&&isNaN(w)){error_message=h.get_multilanguage_string(ML_KEYS.only_numbers_accepted,"this field requires a number");a(t,p,error_message,q,LOG_LEVEL.message)}}}}return t}return{get_validation_errors:b}};