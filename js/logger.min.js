var LOG_LEVEL={message:0,warning:1,error:2};function mod_logger(a,m,q){var d=a;var l=m;var j=q;var c=mod_helper();var r=null;var f=null;if(!(Array.isArray(d.design_elements))){d.design_elements=[]}for(var h=0;h<d.design_elements.length;h++){if(typeof(d.design_elements[h])!=="object"||d.design_elements[h]===null||Array.isArray(d.design_elements[h])){continue}if(d.design_elements[h].name==="log_level"){r=d.design_elements.splice(h,1)[0];break}}d.definition_type="Log";d.title_multilanguage_key="&&mlkey_log_definition";var b={name:"log_level",label:"log level",value:1,value_type:"number",element_type:"Number",user_enabled_setting:1};var n={name:"log_application_context",label:"log application context",value:"",value_type:"key",element_type:"ApplicationChoice",user_enabled_setting:1};var k={name:"log_current_action",label:"log current action",value:"",value_type:"unicode",element_type:"Text",user_enabled_setting:1};if(r===null){r=c.clone(b)}else{r=c.extend(b,r)}f=c.clone(n);if(typeof(l.application_key)==="string"){f.value=l.application_key}log_action_schema_field=c.clone(k);if(typeof(l.action)==="string"){log_action_schema_field.value=l.action}d.design_elements.unshift(r);d.design_elements.unshift(f);d.design_elements.unshift(log_action_schema_field);var p=e();var o={name:p,label:p,value:"",value_type:"unicode",element_type:"Text",grid_size_setting:1,user_enabled_setting:1};d.design_elements.push(o);function e(){return(new Date()).toISOString()}function g(s,i){if(i===undefined){i=LOG_LEVEL.warning}if(i>r.value){r.value=i}if(o.value.length>0){o.value+="\n"}if(i>LOG_LEVEL.message){o.value+=e()+"; log level: "+i+"; "+s+"; function trace: "+c.stacktrace()}else{o.value+=e()+"; log level: "+i+"; "+s}return}return{log_card:d,get_utc_now:e,log:g}};